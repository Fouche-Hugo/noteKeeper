<?php
include 'php/update-infos_gestion.php';
?>
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>NoteKeeper - Mettre à jour ses informations</title>
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/style-header-light.css" id="style-mode">
        <link rel="stylesheet" href="css/style-update-infos-light.css" id="style-mode2">
    </head>
    <body>
        <?php include 'parts/header.php'; ?>
        <main class="update-infos-main">
            <div class="header-main">
                <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M30 48C23.75 48 18.225 44.8 15 40C15.075 35 25 32.25 30 32.25C35 32.25 44.925 35 45 40C43.3472 42.461 41.1146
                    44.4779 38.4989 45.8729C35.8832 47.268 32.9645 47.9985 30 48ZM30 12.5C31.9891 12.5 33.8968 13.2902 35.3033 14.6967C36.7098
                    16.1032 37.5 18.0109 37.5 20C37.5 21.9891 36.7098 23.8968 35.3033 25.3033C33.8968 26.7098 31.9891 27.5 30 27.5C28.0109 27.5
                    26.1032 26.7098 24.6967 25.3033C23.2902 23.8968 22.5 21.9891 22.5 20C22.5 18.0109 23.2902 16.1032 24.6967 14.6967C26.1032 13.2902
                    28.0109 12.5 30 12.5ZM30 5C26.717 5 23.4661 5.64664 20.4329 6.90301C17.3998 8.15938 14.6438 10.0009 12.3223 12.3223C7.63392 17.0107
                    5 23.3696 5 30C5 36.6304 7.63392 42.9893 12.3223 47.6777C14.6438 49.9991 17.3998 51.8406 20.4329 53.097C23.4661 54.3534 26.717 55 30
                    55C36.6304 55 42.9893 52.3661 47.6777 47.6777C52.3661 42.9893 55 36.6304 55 30C55 16.175 43.75 5 30 5Z" fill="#401B37"/>
                </svg>

                <h1>Mettre à jour ses informations</h1>
            </div>
            <div class="main-main" id="main-main">
                <component v-for="comp in reponsesServeur" :is="comp.type" :message="comp.message"></component>

                <?php if(isset($_GET['validation']) && $_GET['validation'] == 'motDePasse') {?>
                    <validation-serveur message="Le mot de passe a bien été mis à jour"></validation-serveur>
                <?php
                } if(isset($_GET['erreur']) && $_GET['erreur'] == 'erreurBDD') {
                ?>
                    <erreur-serveur message="Erreur lors de l'envoi des données d'inscription. Veuillez rééessayer."></erreur-serveur>
                <?php } else if(isset($_GET['erreur']) && $_GET['erreur'] == 'erreurTaille') {?>
                    <erreur-serveur message="Des données envoyées ne respectent pas les critères demandés."></erreur-serveur>
                <?php } else if(isset($_GET['erreur']) && $_GET['erreur'] == 'erreurAncienMotDePasse') {?>
                    <erreur-serveur message="Le mot de passe entré n'est pas le bon"></erreur-serveur>
                <?php } else if(isset($_GET['erreur']) && $_GET['erreur'] == 'erreurNouveauMotDePasse') {?>
                    <erreur-serveur message="Les mots de passe entrés ne correspondent pas"></erreur-serveur>
                <?php } ?>
                <form class="update-infos-form" :class="{erreur: nom.length > 25}" id="form-update-nom" @submit.prevent>
                    <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M25 37.5H21.25C20.5872 37.4993 19.9517 37.2357 19.483 36.767C19.0143 36.2983 18.7507 35.6628 18.75
                        35V28.75H21.25V35H25V28.75H27.5V23.75C27.4997 23.4186 27.3679 23.1008 27.1335 22.8665C26.8992 22.6321 26.5814
                        22.5003 26.25 22.5H15.35L12.85 15H5C4.66858 15.0003 4.35083 15.1321 4.11648 15.3665C3.88213 15.6008 3.75033
                        15.9186 3.75 16.25V23.75H6.25V35H11.25V26.25H13.75V35C13.7493 35.6628 13.4857 36.2983 13.017 36.767C12.5483
                        37.2357 11.9128 37.4993 11.25 37.5H6.25C5.58716 37.4993 4.95166 37.2357 4.48296 36.767C4.01427 36.2983 3.75066
                        35.6628 3.75 35V26.25C3.08716 26.2493 2.45166 25.9857 1.98296 25.517C1.51427 25.0483 1.25066 24.4128 1.25 23.75V16.25C1.25099
                        15.2557 1.6464 14.3025 2.34945 13.5994C3.05249 12.8964 4.00574 12.501 5 12.5H12.85C13.3746 12.4997 13.8861 12.6646 14.3117
                        12.9713C14.7373 13.278 15.0556 13.711 15.2213 14.2088L17.15 20H26.25C27.2443 20.001 28.1975 20.3964 28.9006 21.0994C29.6036
                        21.8025 29.999 22.7557 30 23.75V28.75C29.9993 29.4128 29.7357 30.0483 29.267 30.517C28.7983 30.9857 28.1628 31.2493 27.5 31.25V35C27.4993
                        35.6628 27.2357 36.2983 26.767 36.767C26.2983 37.2357 25.6628 37.4993 25 37.5ZM35 37.5H32.5V23.75H36.25V16.25C36.2497 15.9186 36.1179 15.6008
                        35.8835 15.3665C35.6492 15.1321 35.3314 15.0003 35 15H30V12.5H35C35.9943 12.501 36.9475 12.8964 37.6506 13.5994C38.3536 14.3025 38.749 15.2557
                        38.75 16.25V23.75C38.7493 24.4128 38.4857 25.0483 38.017 25.517C37.5483 25.9857 36.9128 26.2493 36.25 26.25H35V37.5ZM8.75 11.25C7.76109 11.25
                        6.79439 10.9568 5.97215 10.4074C5.1499 9.85794 4.50904 9.07705 4.1306 8.16342C3.75216 7.24979 3.65315 6.24446 3.84607 5.27455C4.039 4.30465
                        4.5152 3.41373 5.21447 2.71447C5.91373 2.01521 6.80464 1.539 7.77455 1.34608C8.74445 1.15315 9.74979 1.25217 10.6634 1.6306C11.577 2.00904
                        12.3579 2.64991 12.9073 3.47215C13.4568 4.2944 13.75 5.2611 13.75 6.25C13.7483 7.57558 13.221 8.84639 12.2837 9.78371C11.3464 10.721 10.0756
                        11.2483 8.75 11.25ZM8.75 3.75C8.25555 3.75 7.7722 3.89662 7.36107 4.17133C6.94995 4.44603 6.62952 4.83648 6.4403 5.29329C6.25108 5.75011
                        6.20157 6.25278 6.29804 6.73773C6.3945 7.22268 6.6326 7.66814 6.98223 8.01777C7.33186 8.3674 7.77732 8.6055 8.26227 8.70197C8.74723 8.79843
                        9.24989 8.74892 9.70671 8.5597C10.1635 8.37048 10.554 8.05005 10.8287 7.63893C11.1034 7.2278 11.25 6.74446 11.25 6.25C11.2493 5.58716 10.9857
                        4.95166 10.517 4.48297C10.0483 4.01427 9.41284 3.75066 8.75 3.75ZM31.25 11.25C30.2611 11.25 29.2944 10.9568 28.4721 10.4074C27.6499 9.85794
                        27.009 9.07705 26.6306 8.16342C26.2522 7.24979 26.1531 6.24446 26.3461 5.27455C26.539 4.30465 27.0152 3.41373 27.7145 2.71447C28.4137 2.01521
                        29.3046 1.539 30.2745 1.34608C31.2445 1.15315 32.2498 1.25217 33.1634 1.6306C34.077 2.00904 34.8579 2.64991 35.4073 3.47215C35.9568 4.2944 36.25
                        5.2611 36.25 6.25C36.2483 7.57558 35.721 8.84639 34.7837 9.78371C33.8464 10.721 32.5756 11.2483 31.25 11.25ZM31.25 3.75C30.7555 3.75 30.2722 3.89662
                        29.8611 4.17133C29.45 4.44603 29.1295 4.83648 28.9403 5.29329C28.7511 5.75011 28.7016 6.25278 28.798 6.73773C28.8945 7.22268 29.1326 7.66814 29.4822
                        8.01777C29.8319 8.3674 30.2773 8.6055 30.7623 8.70197C31.2472 8.79843 31.7499 8.74892 32.2067 8.5597C32.6635 8.37048 33.054 8.05005 33.3287 7.63893C33.6034
                        7.2278 33.75 6.74446 33.75 6.25C33.7493 5.58716 33.4857 4.95166 33.017 4.48297C32.5483 4.01427 31.9128 3.75066 31.25 3.75Z" fill="#401B37"/>
                        <path d="M23.125 18.75C22.2597 18.75 21.4138 18.4934 20.6944 18.0127C19.9749 17.532 19.4142 16.8487 19.083 16.0492C18.7519 15.2498 18.6653 14.3701
                        18.8341 13.5215C19.0029 12.6728 19.4196 11.8933 20.0314 11.2814C20.6433 10.6696 21.4228 10.2529 22.2715 10.0841C23.1201 9.91526 23.9998 10.0019
                        24.7992 10.333C25.5987 10.6642 26.2819 11.2249 26.7627 11.9444C27.2434 12.6638 27.5 13.5097 27.5 14.375C27.4987 15.5349 27.0373 16.6469 26.2171
                        17.4671C25.3969 18.2873 24.2849 18.7487 23.125 18.75ZM23.125 12.5C22.7542 12.5 22.3917 12.61 22.0833 12.816C21.775 13.022 21.5346 13.3149 21.3927
                        13.6575C21.2508 14.0001 21.2137 14.3771 21.286 14.7408C21.3584 15.1045 21.537 15.4386 21.7992 15.7008C22.0614 15.9631 22.3955 16.1416 22.7592 16.214C23.1229
                        16.2863 23.4999 16.2492 23.8425 16.1073C24.1851 15.9654 24.478 15.725 24.684 15.4167C24.89 15.1084 25 14.7458 25 14.375C24.9993 13.8779 24.8016 13.4014 24.4501
                        13.0499C24.0986 12.6984 23.6221 12.5007 23.125 12.5Z" fill="#401B37"/>
                    </svg>
                    <input type="text" name="nom" id="nom" placeholder="Nom" data-value="<?php echo $nom;?>" required v-model="nom" :disabled="nomUpdating">
                    <span class="tooltip" v-if="nom.length > 25">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 0C6.71484 0 0 6.71484 0 15C0 23.2852 6.71484 30 15 30C23.2852 30 30 23.2852 30 15C30 6.71484 23.2852 0 15 0ZM15 23.4375C13.9453 23.4375 13.125
                            22.6172 13.125 21.5625C13.125 20.5078 13.8926 19.6875 15 19.6875C16.002 19.6875 16.875 20.5078 16.875 21.5625C16.875 22.6172 16.002 23.4375 15 23.4375ZM19.0488
                            15.1172L16.4062 16.7578V16.875C16.4062 17.6367 15.7617 18.2812 15 18.2812C14.2383 18.2812 13.5938 17.6367 13.5938 16.875V15.9375C13.5938 15.4688 13.8281 15
                            14.2969 14.707L17.6367 12.7148C18.0469 12.4805 18.2812 12.0703 18.2812 11.6016C18.2812 10.8984 17.6426 10.3125 16.9395 10.3125H13.9453C13.1895 10.3125 12.6562
                            10.8984 12.6562 11.6016C12.6562 12.3633 12.0117 13.0078 11.25 13.0078C10.4883 13.0078 9.84375 12.3633 9.84375 11.6016C9.84375 9.31641 11.6602 7.5 13.8926
                            7.5H16.8867C19.2773 7.5 21.0938 9.31641 21.0938 11.6016C21.0938 13.0078 20.332 14.3555 19.0488 15.1172Z" fill="black"/>
                        </svg>
                        <span class="tooltip-text">Le nom dépasse 25 caractères</span>
                    </span>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="check-indicator" v-else-if="nom === nomServeur">
                        <path d="M5 15L12.5 22.5L25 7.5" stroke="#401B37" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="updating" v-else-if="nomUpdating">
                        <rect width="30" height="30"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.80605 14.594C3.80605 20.682 8.22005 24.83 13.178 25.688C13.3129 25.7114 13.4419 25.7611 13.5575
                        25.8343C13.6732 25.9075 13.7733 26.0028 13.8521 26.1147C13.9309 26.2266 13.987 26.3529 14.017 26.4864C14.047 26.62 14.0504 26.7581 14.027 26.893C14.0037
                        27.0279 13.954 27.1568 13.8808 27.2725C13.8075 27.3881 13.7123 27.4882 13.6004 27.5671C13.4885 27.6459 13.3622 27.7019 13.2286 27.7319C13.0951 27.762 12.9569
                        27.7654 12.822 27.742C7.00005 26.734 1.72205 21.826 1.72205 14.594C1.72205 11.52 3.12005 9.104 4.75205 7.268C5.92205 5.952 7.26005 4.882 8.33605 4.064H5.06405C4.79883
                        4.064 4.54448 3.95864 4.35694 3.7711C4.1694 3.58357 4.06405 3.32921 4.06405 3.064C4.06405 2.79878 4.1694 2.54443 4.35694 2.35689C4.54448 2.16935 4.79883 2.064 5.06405
                        2.064H11.064C11.3293 2.064 11.5836 2.16935 11.7712 2.35689C11.9587 2.54443 12.064 2.79878 12.064 3.064V9.064C12.064 9.32921 11.9587 9.58357 11.7712 9.7711C11.5836 9.95864
                        11.3293 10.064 11.064 10.064C10.7988 10.064 10.5445 9.95864 10.3569 9.7711C10.1694 9.58357 10.064 9.32921 10.064 9.064V5.372L10.062 5.376C8.91805 6.236 7.52205 7.29 6.31205
                        8.652C4.88205 10.26 3.80605 12.204 3.80605 14.592V14.594ZM26.022 15.406C26.022 9.382 21.702 5.26 16.808 4.34C16.6716 4.31685 16.5412 4.26678 16.4244 4.19269C16.3075 4.1186
                        16.2066 4.02199 16.1275 3.90848C16.0484 3.79498 15.9927 3.66686 15.9636 3.53159C15.9345 3.39633 15.9327 3.25663 15.9582 3.12065C15.9837 2.98467 16.036 2.85512 16.1121
                        2.73958C16.1882 2.62403 16.2865 2.52479 16.4014 2.44766C16.5163 2.37052 16.6453 2.31703 16.7811 2.2903C16.9168 2.26358 17.0565 2.26415 17.192 2.292C22.94 3.372 28.106
                        8.252 28.106 15.406C28.106 18.48 26.708 20.894 25.076 22.732C23.906 24.048 22.568 25.118 21.492 25.936H24.764C25.0293 25.936 25.2836 26.0414 25.4712 26.2289C25.6587
                        26.4164 25.764 26.6708 25.764 26.936C25.764 27.2012 25.6587 27.4556 25.4712 27.6431C25.2836 27.8306 25.0293 27.936 24.764 27.936H18.764C18.4988 27.936 18.2445 27.8306
                        18.0569 27.6431C17.8694 27.4556 17.764 27.2012 17.764 26.936V20.936C17.764 20.6708 17.8694 20.4164 18.0569 20.2289C18.2445 20.0414 18.4988 19.936 18.764 19.936C19.0293
                        19.936 19.2836 20.0414 19.4712 20.2289C19.6587 20.4164 19.764 20.6708 19.764 20.936V24.626H19.768C20.91 23.762 22.308 22.71 23.516 21.346C24.946 19.74 26.022 17.796
                        26.022 15.406Z" fill="#401B37"/>
                    </svg>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" v-else @click="submitNouveauNom" class="update-button">
                        <path d="M6.75 3C6.45163 3 6.16548 3.11853 5.9545 3.3295C5.74353 3.54048 5.625 3.82663 5.625 4.125C5.625 4.42337 5.74353 4.70952 5.9545 4.9205C6.16548 5.13147
                        6.45163 5.25 6.75 5.25H22.5C22.7984 5.25 23.0845 5.13147 23.2955 4.9205C23.5065 4.70952 23.625 4.42337 23.625 4.125C23.625 3.82663 23.5065 3.54048 23.2955 3.3295C23.0845
                        3.11853 22.7984 3 22.5 3H6.75ZM15.744 26.025C15.7051 26.3074 15.5606 26.5645 15.3394 26.7443C15.1183 26.9242 14.8372 27.0135 14.5528 26.994C14.2684 26.9746 14.0021 26.848
                        13.8075 26.6397C13.6129 26.4314 13.5046 26.157 13.5045 25.872V10.587L9.045 15.0405L8.919 15.15C8.6907 15.3197 8.40658 15.3966 8.12385 15.3652C7.84112 15.3339 7.58076
                        15.1966 7.3952 14.981C7.20963 14.7654 7.11264 14.4875 7.12373 14.2032C7.13483 13.919 7.25319 13.6495 7.455 13.449L13.89 7.02C14.0023 6.92161 14.1335 6.8471 14.2755
                        6.801L14.3955 6.7665C14.47 6.75065 14.5459 6.7426 14.622 6.7425L14.712 6.7455L14.817 6.7575L14.997 6.8025L15.1335 6.8595L15.189 6.8895L15.324 6.9795L15.432 7.0725L21.795
                        13.4475L21.9045 13.575C22.0644 13.7919 22.1411 14.0589 22.1207 14.3276C22.1004 14.5963 21.9843 14.8487 21.7935 15.039L21.6675 15.1485C21.4506 15.3084 21.1836 15.3851
                        20.9149 15.3647C20.6462 15.3444 20.3938 15.2282 20.2035 15.0375L15.7545 10.5825V25.872L15.744 26.0235V26.025Z" fill="#401B37"/>
                    </svg>
                </form>
                <form class="update-infos-form" :class="{erreur: prenom.length > 25}" id="form-update-prenom" @submit.prevent>
                    <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M25.4815 24.4615C25.2369 24.3815 23.6907 23.6846 24.6569 20.7477H24.643C27.1615 18.1539 29.0861 13.98 29.0861 9.87077C29.0861 3.55231 24.8846
                        0.240005 20.0015 0.240005C15.1154 0.240005 10.9369 3.55077 10.9369 9.87077C10.9369 13.9969 12.8507 18.1877 15.3846 20.7754C16.3723 23.3662 14.6061 24.3277
                        14.2369 24.4631C9.12305 26.3123 3.12305 29.6831 3.12305 33.0108V34.2585C3.12305 38.7923 11.9138 39.8231 20.0492 39.8231C28.1969 39.8231 36.8769 38.7923 36.8769
                        34.2585V33.0108C36.8769 29.5831 30.8477 26.2385 25.4815 24.4615Z" fill="#401B37"/>
                    </svg>
                    <input type="text" name="prenom" id="prenom" placeholder="Prénom" data-value="<?php echo $prenom;?>" required v-model="prenom" :disabled="prenomUpdating">
                    <span class="tooltip" v-if="prenom.length > 25">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 0C6.71484 0 0 6.71484 0 15C0 23.2852 6.71484 30 15 30C23.2852 30 30 23.2852 30 15C30 6.71484 23.2852 0 15 0ZM15 23.4375C13.9453 23.4375 13.125
                            22.6172 13.125 21.5625C13.125 20.5078 13.8926 19.6875 15 19.6875C16.002 19.6875 16.875 20.5078 16.875 21.5625C16.875 22.6172 16.002 23.4375 15 23.4375ZM19.0488
                            15.1172L16.4062 16.7578V16.875C16.4062 17.6367 15.7617 18.2812 15 18.2812C14.2383 18.2812 13.5938 17.6367 13.5938 16.875V15.9375C13.5938 15.4688 13.8281 15
                            14.2969 14.707L17.6367 12.7148C18.0469 12.4805 18.2812 12.0703 18.2812 11.6016C18.2812 10.8984 17.6426 10.3125 16.9395 10.3125H13.9453C13.1895 10.3125 12.6562
                            10.8984 12.6562 11.6016C12.6562 12.3633 12.0117 13.0078 11.25 13.0078C10.4883 13.0078 9.84375 12.3633 9.84375 11.6016C9.84375 9.31641 11.6602 7.5 13.8926
                            7.5H16.8867C19.2773 7.5 21.0938 9.31641 21.0938 11.6016C21.0938 13.0078 20.332 14.3555 19.0488 15.1172Z" fill="black"/>
                        </svg>
                        <span class="tooltip-text">Le prénom dépasse 25 caractères</span>
                    </span>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="check-indicator" v-else-if="prenom === prenomServeur">
                        <path d="M5 15L12.5 22.5L25 7.5" stroke="#401B37" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="updating" v-else-if="prenomUpdating">
                        <rect width="30" height="30"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.80605 14.594C3.80605 20.682 8.22005 24.83 13.178 25.688C13.3129 25.7114 13.4419 25.7611 13.5575
                        25.8343C13.6732 25.9075 13.7733 26.0028 13.8521 26.1147C13.9309 26.2266 13.987 26.3529 14.017 26.4864C14.047 26.62 14.0504 26.7581 14.027 26.893C14.0037
                        27.0279 13.954 27.1568 13.8808 27.2725C13.8075 27.3881 13.7123 27.4882 13.6004 27.5671C13.4885 27.6459 13.3622 27.7019 13.2286 27.7319C13.0951 27.762 12.9569
                        27.7654 12.822 27.742C7.00005 26.734 1.72205 21.826 1.72205 14.594C1.72205 11.52 3.12005 9.104 4.75205 7.268C5.92205 5.952 7.26005 4.882 8.33605 4.064H5.06405C4.79883
                        4.064 4.54448 3.95864 4.35694 3.7711C4.1694 3.58357 4.06405 3.32921 4.06405 3.064C4.06405 2.79878 4.1694 2.54443 4.35694 2.35689C4.54448 2.16935 4.79883 2.064 5.06405
                        2.064H11.064C11.3293 2.064 11.5836 2.16935 11.7712 2.35689C11.9587 2.54443 12.064 2.79878 12.064 3.064V9.064C12.064 9.32921 11.9587 9.58357 11.7712 9.7711C11.5836 9.95864
                        11.3293 10.064 11.064 10.064C10.7988 10.064 10.5445 9.95864 10.3569 9.7711C10.1694 9.58357 10.064 9.32921 10.064 9.064V5.372L10.062 5.376C8.91805 6.236 7.52205 7.29 6.31205
                        8.652C4.88205 10.26 3.80605 12.204 3.80605 14.592V14.594ZM26.022 15.406C26.022 9.382 21.702 5.26 16.808 4.34C16.6716 4.31685 16.5412 4.26678 16.4244 4.19269C16.3075 4.1186
                        16.2066 4.02199 16.1275 3.90848C16.0484 3.79498 15.9927 3.66686 15.9636 3.53159C15.9345 3.39633 15.9327 3.25663 15.9582 3.12065C15.9837 2.98467 16.036 2.85512 16.1121
                        2.73958C16.1882 2.62403 16.2865 2.52479 16.4014 2.44766C16.5163 2.37052 16.6453 2.31703 16.7811 2.2903C16.9168 2.26358 17.0565 2.26415 17.192 2.292C22.94 3.372 28.106
                        8.252 28.106 15.406C28.106 18.48 26.708 20.894 25.076 22.732C23.906 24.048 22.568 25.118 21.492 25.936H24.764C25.0293 25.936 25.2836 26.0414 25.4712 26.2289C25.6587
                        26.4164 25.764 26.6708 25.764 26.936C25.764 27.2012 25.6587 27.4556 25.4712 27.6431C25.2836 27.8306 25.0293 27.936 24.764 27.936H18.764C18.4988 27.936 18.2445 27.8306
                        18.0569 27.6431C17.8694 27.4556 17.764 27.2012 17.764 26.936V20.936C17.764 20.6708 17.8694 20.4164 18.0569 20.2289C18.2445 20.0414 18.4988 19.936 18.764 19.936C19.0293
                        19.936 19.2836 20.0414 19.4712 20.2289C19.6587 20.4164 19.764 20.6708 19.764 20.936V24.626H19.768C20.91 23.762 22.308 22.71 23.516 21.346C24.946 19.74 26.022 17.796
                        26.022 15.406Z" fill="#401B37"/>
                    </svg>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" v-else @click="submitNouveauPrenom" class="update-button">
                        <path d="M6.75 3C6.45163 3 6.16548 3.11853 5.9545 3.3295C5.74353 3.54048 5.625 3.82663 5.625 4.125C5.625 4.42337 5.74353 4.70952 5.9545 4.9205C6.16548 5.13147
                        6.45163 5.25 6.75 5.25H22.5C22.7984 5.25 23.0845 5.13147 23.2955 4.9205C23.5065 4.70952 23.625 4.42337 23.625 4.125C23.625 3.82663 23.5065 3.54048 23.2955 3.3295C23.0845
                        3.11853 22.7984 3 22.5 3H6.75ZM15.744 26.025C15.7051 26.3074 15.5606 26.5645 15.3394 26.7443C15.1183 26.9242 14.8372 27.0135 14.5528 26.994C14.2684 26.9746 14.0021 26.848
                        13.8075 26.6397C13.6129 26.4314 13.5046 26.157 13.5045 25.872V10.587L9.045 15.0405L8.919 15.15C8.6907 15.3197 8.40658 15.3966 8.12385 15.3652C7.84112 15.3339 7.58076
                        15.1966 7.3952 14.981C7.20963 14.7654 7.11264 14.4875 7.12373 14.2032C7.13483 13.919 7.25319 13.6495 7.455 13.449L13.89 7.02C14.0023 6.92161 14.1335 6.8471 14.2755
                        6.801L14.3955 6.7665C14.47 6.75065 14.5459 6.7426 14.622 6.7425L14.712 6.7455L14.817 6.7575L14.997 6.8025L15.1335 6.8595L15.189 6.8895L15.324 6.9795L15.432 7.0725L21.795
                        13.4475L21.9045 13.575C22.0644 13.7919 22.1411 14.0589 22.1207 14.3276C22.1004 14.5963 21.9843 14.8487 21.7935 15.039L21.6675 15.1485C21.4506 15.3084 21.1836 15.3851
                        20.9149 15.3647C20.6462 15.3444 20.3938 15.2282 20.2035 15.0375L15.7545 10.5825V25.872L15.744 26.0235V26.025Z" fill="#401B37"/>
                    </svg>
                </form>
                <form class="update-infos-form" :class="{erreur: email.length > 25 || !verificationAdresseMail()}" id="form-update-email" @submit.prevent>
                    <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M33.3333 13.3333L19.9999 21.6667L6.66659 13.3333V10L19.9999 18.3333L33.3333 10M33.3333 6.66666H6.66659C4.81659 6.66666 3.33325 8.15 3.33325
                        10V30C3.33325 30.8841 3.68444 31.7319 4.30956 32.357C4.93468 32.9821 5.78253 33.3333 6.66659 33.3333H33.3333C34.2173 33.3333 35.0652 32.9821 35.6903
                        32.357C36.3154 31.7319 36.6666 30.8841 36.6666 30V10C36.6666 9.11594 36.3154 8.2681 35.6903 7.64297C35.0652 7.01785 34.2173 6.66666 33.3333 6.66666Z" fill="#401B37"/>
                    </svg>
                    <input type="email" name="mail" id="mail" placeholder="Adresse mail" data-value="<?php echo $mail;?>" required v-model="email" :disabled="emailUpdating">
                    <span class="tooltip" v-if="email.length > 25 || !verificationAdresseMail()">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 0C6.71484 0 0 6.71484 0 15C0 23.2852 6.71484 30 15 30C23.2852 30 30 23.2852 30 15C30 6.71484 23.2852 0 15 0ZM15 23.4375C13.9453 23.4375 13.125
                            22.6172 13.125 21.5625C13.125 20.5078 13.8926 19.6875 15 19.6875C16.002 19.6875 16.875 20.5078 16.875 21.5625C16.875 22.6172 16.002 23.4375 15 23.4375ZM19.0488
                            15.1172L16.4062 16.7578V16.875C16.4062 17.6367 15.7617 18.2812 15 18.2812C14.2383 18.2812 13.5938 17.6367 13.5938 16.875V15.9375C13.5938 15.4688 13.8281 15
                            14.2969 14.707L17.6367 12.7148C18.0469 12.4805 18.2812 12.0703 18.2812 11.6016C18.2812 10.8984 17.6426 10.3125 16.9395 10.3125H13.9453C13.1895 10.3125 12.6562
                            10.8984 12.6562 11.6016C12.6562 12.3633 12.0117 13.0078 11.25 13.0078C10.4883 13.0078 9.84375 12.3633 9.84375 11.6016C9.84375 9.31641 11.6602 7.5 13.8926
                            7.5H16.8867C19.2773 7.5 21.0938 9.31641 21.0938 11.6016C21.0938 13.0078 20.332 14.3555 19.0488 15.1172Z" fill="black"/>
                        </svg>
                        <span class="tooltip-text" v-if="email.length > 25 && !verificationAdresseMail()">L'adresse email dépasse 25 caractères<br>L'adresse email n'est pas valide</span>
                        <span class="tooltip-text" v-else-if="email.length > 25">L'adresse email dépasse 25 caractères</span>
                        <span class="tooltip-text" v-else>L'adresse email n'est pas valide</span>
                    </span>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="check-indicator" v-else-if="email === emailServeur">
                        <path d="M5 15L12.5 22.5L25 7.5" stroke="#401B37" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="updating" v-else-if="emailUpdating">
                        <rect width="30" height="30"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.80605 14.594C3.80605 20.682 8.22005 24.83 13.178 25.688C13.3129 25.7114 13.4419 25.7611 13.5575
                        25.8343C13.6732 25.9075 13.7733 26.0028 13.8521 26.1147C13.9309 26.2266 13.987 26.3529 14.017 26.4864C14.047 26.62 14.0504 26.7581 14.027 26.893C14.0037
                        27.0279 13.954 27.1568 13.8808 27.2725C13.8075 27.3881 13.7123 27.4882 13.6004 27.5671C13.4885 27.6459 13.3622 27.7019 13.2286 27.7319C13.0951 27.762 12.9569
                        27.7654 12.822 27.742C7.00005 26.734 1.72205 21.826 1.72205 14.594C1.72205 11.52 3.12005 9.104 4.75205 7.268C5.92205 5.952 7.26005 4.882 8.33605 4.064H5.06405C4.79883
                        4.064 4.54448 3.95864 4.35694 3.7711C4.1694 3.58357 4.06405 3.32921 4.06405 3.064C4.06405 2.79878 4.1694 2.54443 4.35694 2.35689C4.54448 2.16935 4.79883 2.064 5.06405
                        2.064H11.064C11.3293 2.064 11.5836 2.16935 11.7712 2.35689C11.9587 2.54443 12.064 2.79878 12.064 3.064V9.064C12.064 9.32921 11.9587 9.58357 11.7712 9.7711C11.5836 9.95864
                        11.3293 10.064 11.064 10.064C10.7988 10.064 10.5445 9.95864 10.3569 9.7711C10.1694 9.58357 10.064 9.32921 10.064 9.064V5.372L10.062 5.376C8.91805 6.236 7.52205 7.29 6.31205
                        8.652C4.88205 10.26 3.80605 12.204 3.80605 14.592V14.594ZM26.022 15.406C26.022 9.382 21.702 5.26 16.808 4.34C16.6716 4.31685 16.5412 4.26678 16.4244 4.19269C16.3075 4.1186
                        16.2066 4.02199 16.1275 3.90848C16.0484 3.79498 15.9927 3.66686 15.9636 3.53159C15.9345 3.39633 15.9327 3.25663 15.9582 3.12065C15.9837 2.98467 16.036 2.85512 16.1121
                        2.73958C16.1882 2.62403 16.2865 2.52479 16.4014 2.44766C16.5163 2.37052 16.6453 2.31703 16.7811 2.2903C16.9168 2.26358 17.0565 2.26415 17.192 2.292C22.94 3.372 28.106
                        8.252 28.106 15.406C28.106 18.48 26.708 20.894 25.076 22.732C23.906 24.048 22.568 25.118 21.492 25.936H24.764C25.0293 25.936 25.2836 26.0414 25.4712 26.2289C25.6587
                        26.4164 25.764 26.6708 25.764 26.936C25.764 27.2012 25.6587 27.4556 25.4712 27.6431C25.2836 27.8306 25.0293 27.936 24.764 27.936H18.764C18.4988 27.936 18.2445 27.8306
                        18.0569 27.6431C17.8694 27.4556 17.764 27.2012 17.764 26.936V20.936C17.764 20.6708 17.8694 20.4164 18.0569 20.2289C18.2445 20.0414 18.4988 19.936 18.764 19.936C19.0293
                        19.936 19.2836 20.0414 19.4712 20.2289C19.6587 20.4164 19.764 20.6708 19.764 20.936V24.626H19.768C20.91 23.762 22.308 22.71 23.516 21.346C24.946 19.74 26.022 17.796
                        26.022 15.406Z" fill="#401B37"/>
                    </svg>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" v-else @click="submitNouveauEmail" class="update-button">
                        <path d="M6.75 3C6.45163 3 6.16548 3.11853 5.9545 3.3295C5.74353 3.54048 5.625 3.82663 5.625 4.125C5.625 4.42337 5.74353 4.70952 5.9545 4.9205C6.16548 5.13147
                        6.45163 5.25 6.75 5.25H22.5C22.7984 5.25 23.0845 5.13147 23.2955 4.9205C23.5065 4.70952 23.625 4.42337 23.625 4.125C23.625 3.82663 23.5065 3.54048 23.2955 3.3295C23.0845
                        3.11853 22.7984 3 22.5 3H6.75ZM15.744 26.025C15.7051 26.3074 15.5606 26.5645 15.3394 26.7443C15.1183 26.9242 14.8372 27.0135 14.5528 26.994C14.2684 26.9746 14.0021 26.848
                        13.8075 26.6397C13.6129 26.4314 13.5046 26.157 13.5045 25.872V10.587L9.045 15.0405L8.919 15.15C8.6907 15.3197 8.40658 15.3966 8.12385 15.3652C7.84112 15.3339 7.58076
                        15.1966 7.3952 14.981C7.20963 14.7654 7.11264 14.4875 7.12373 14.2032C7.13483 13.919 7.25319 13.6495 7.455 13.449L13.89 7.02C14.0023 6.92161 14.1335 6.8471 14.2755
                        6.801L14.3955 6.7665C14.47 6.75065 14.5459 6.7426 14.622 6.7425L14.712 6.7455L14.817 6.7575L14.997 6.8025L15.1335 6.8595L15.189 6.8895L15.324 6.9795L15.432 7.0725L21.795
                        13.4475L21.9045 13.575C22.0644 13.7919 22.1411 14.0589 22.1207 14.3276C22.1004 14.5963 21.9843 14.8487 21.7935 15.039L21.6675 15.1485C21.4506 15.3084 21.1836 15.3851
                        20.9149 15.3647C20.6462 15.3444 20.3938 15.2282 20.2035 15.0375L15.7545 10.5825V25.872L15.744 26.0235V26.025Z" fill="#401B37"/>
                    </svg>
                </form>
                <form class="password-form" @submit.prevent="submitNouveauMotDePasse" method="post">
                    <div class="update-infos-input-container">
                        <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.0001 28.3333C20.8841 28.3333 21.732 27.9821 22.3571 27.357C22.9822 26.7319 23.3334 25.8841 23.3334 25C23.3334 24.1159 22.9822 23.2681 22.3571
                            22.643C21.732 22.0179 20.8841 21.6667 20.0001 21.6667C19.116 21.6667 18.2682 22.0179 17.6431 22.643C17.0179 23.2681 16.6667 24.1159 16.6667 25C16.6667 25.8841
                            17.0179 26.7319 17.6431 27.357C18.2682 27.9821 19.116 28.3333 20.0001 28.3333ZM30.0001 13.3333C30.8841 13.3333 31.732 13.6845 32.3571 14.3096C32.9822 14.9348
                            33.3334 15.7826 33.3334 16.6667V33.3333C33.3334 34.2174 32.9822 35.0652 32.3571 35.6904C31.732 36.3155 30.8841 36.6667 30.0001 36.6667H10.0001C9.11603 36.6667
                            8.26818 36.3155 7.64306 35.6904C7.01794 35.0652 6.66675 34.2174 6.66675 33.3333V16.6667C6.66675 15.7826 7.01794 14.9348 7.64306 14.3096C8.26818 13.6845 9.11603
                            13.3333 10.0001 13.3333H11.6667V10C11.6667 7.78986 12.5447 5.67025 14.1075 4.10744C15.6703 2.54464 17.7899 1.66667 20.0001 1.66667C21.0944 1.66667 22.1781 1.88221
                            23.1891 2.301C24.2002 2.71979 25.1188 3.33362 25.8926 4.10744C26.6665 4.88126 27.2803 5.79992 27.6991 6.81097C28.1179 7.82202 28.3334 8.90565 28.3334
                            10V13.3333H30.0001ZM20.0001 5C18.674 5 17.4022 5.52678 16.4645 6.46447C15.5269 7.40215 15.0001 8.67392 15.0001 10V13.3333H25.0001V10C25.0001 8.67392 24.4733
                            7.40215 23.5356 6.46447C22.5979 5.52678 21.3262 5 20.0001 5Z" fill="#401B37"/>
                        </svg>
                        <input type="password" name="ancienMotDePasse" placeholder="Ancien mot de passe" required v-model="ancienMotDePasse">
                    </div>
                    <div class="update-infos-input-container" :class="{erreur: nouveauMotDePasse.length > 25 || (nouveauMotDePasse.length < 8 && nouveauMotDePasse.length > 0)}">
                        <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.0001 28.3333C20.8841 28.3333 21.732 27.9821 22.3571 27.357C22.9822 26.7319 23.3334 25.8841 23.3334 25C23.3334 24.1159 22.9822 23.2681 22.3571
                            22.643C21.732 22.0179 20.8841 21.6667 20.0001 21.6667C19.116 21.6667 18.2682 22.0179 17.6431 22.643C17.0179 23.2681 16.6667 24.1159 16.6667 25C16.6667 25.8841
                            17.0179 26.7319 17.6431 27.357C18.2682 27.9821 19.116 28.3333 20.0001 28.3333ZM30.0001 13.3333C30.8841 13.3333 31.732 13.6845 32.3571 14.3096C32.9822 14.9348
                            33.3334 15.7826 33.3334 16.6667V33.3333C33.3334 34.2174 32.9822 35.0652 32.3571 35.6904C31.732 36.3155 30.8841 36.6667 30.0001 36.6667H10.0001C9.11603 36.6667
                            8.26818 36.3155 7.64306 35.6904C7.01794 35.0652 6.66675 34.2174 6.66675 33.3333V16.6667C6.66675 15.7826 7.01794 14.9348 7.64306 14.3096C8.26818 13.6845 9.11603
                            13.3333 10.0001 13.3333H11.6667V10C11.6667 7.78986 12.5447 5.67025 14.1075 4.10744C15.6703 2.54464 17.7899 1.66667 20.0001 1.66667C21.0944 1.66667 22.1781 1.88221
                            23.1891 2.301C24.2002 2.71979 25.1188 3.33362 25.8926 4.10744C26.6665 4.88126 27.2803 5.79992 27.6991 6.81097C28.1179 7.82202 28.3334 8.90565 28.3334
                            10V13.3333H30.0001ZM20.0001 5C18.674 5 17.4022 5.52678 16.4645 6.46447C15.5269 7.40215 15.0001 8.67392 15.0001 10V13.3333H25.0001V10C25.0001 8.67392 24.4733
                            7.40215 23.5356 6.46447C22.5979 5.52678 21.3262 5 20.0001 5Z" fill="#401B37"/>
                        </svg>
                        <input type="password" name="nouveauMotDePasse" placeholder="Nouveau mot de passe" required v-model="nouveauMotDePasse">
                        <span class="tooltip">
                            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 0C6.71484 0 0 6.71484 0 15C0 23.2852 6.71484 30 15 30C23.2852 30 30 23.2852 30 15C30 6.71484 23.2852 0 15 0ZM15 23.4375C13.9453 23.4375 13.125
                                22.6172 13.125 21.5625C13.125 20.5078 13.8926 19.6875 15 19.6875C16.002 19.6875 16.875 20.5078 16.875 21.5625C16.875 22.6172 16.002 23.4375 15 23.4375ZM19.0488
                                15.1172L16.4062 16.7578V16.875C16.4062 17.6367 15.7617 18.2812 15 18.2812C14.2383 18.2812 13.5938 17.6367 13.5938 16.875V15.9375C13.5938 15.4688 13.8281 15
                                14.2969 14.707L17.6367 12.7148C18.0469 12.4805 18.2812 12.0703 18.2812 11.6016C18.2812 10.8984 17.6426 10.3125 16.9395 10.3125H13.9453C13.1895 10.3125 12.6562
                                10.8984 12.6562 11.6016C12.6562 12.3633 12.0117 13.0078 11.25 13.0078C10.4883 13.0078 9.84375 12.3633 9.84375 11.6016C9.84375 9.31641 11.6602 7.5 13.8926
                                7.5H16.8867C19.2773 7.5 21.0938 9.31641 21.0938 11.6016C21.0938 13.0078 20.332 14.3555 19.0488 15.1172Z" fill="black"/>
                            </svg>
                            <span class="tooltip-text" v-if="nouveauMotDePasse.length > 25">Le mot de passe dépasse 25 caractères</span>
                            <span class="tooltip-text" v-else>Le mot de passe fait moins de 8 caractères</span>
                        </span>
                    </div>
                    <div class="update-infos-input-container" :class="{erreur: nouveauMotDePasse2.length > 0 && nouveauMotDePasse2 != nouveauMotDePasse}">
                        <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.0001 28.3333C20.8841 28.3333 21.732 27.9821 22.3571 27.357C22.9822 26.7319 23.3334 25.8841 23.3334 25C23.3334 24.1159 22.9822 23.2681 22.3571
                            22.643C21.732 22.0179 20.8841 21.6667 20.0001 21.6667C19.116 21.6667 18.2682 22.0179 17.6431 22.643C17.0179 23.2681 16.6667 24.1159 16.6667 25C16.6667 25.8841
                            17.0179 26.7319 17.6431 27.357C18.2682 27.9821 19.116 28.3333 20.0001 28.3333ZM30.0001 13.3333C30.8841 13.3333 31.732 13.6845 32.3571 14.3096C32.9822 14.9348
                            33.3334 15.7826 33.3334 16.6667V33.3333C33.3334 34.2174 32.9822 35.0652 32.3571 35.6904C31.732 36.3155 30.8841 36.6667 30.0001 36.6667H10.0001C9.11603 36.6667
                            8.26818 36.3155 7.64306 35.6904C7.01794 35.0652 6.66675 34.2174 6.66675 33.3333V16.6667C6.66675 15.7826 7.01794 14.9348 7.64306 14.3096C8.26818 13.6845 9.11603
                            13.3333 10.0001 13.3333H11.6667V10C11.6667 7.78986 12.5447 5.67025 14.1075 4.10744C15.6703 2.54464 17.7899 1.66667 20.0001 1.66667C21.0944 1.66667 22.1781 1.88221
                            23.1891 2.301C24.2002 2.71979 25.1188 3.33362 25.8926 4.10744C26.6665 4.88126 27.2803 5.79992 27.6991 6.81097C28.1179 7.82202 28.3334 8.90565 28.3334
                            10V13.3333H30.0001ZM20.0001 5C18.674 5 17.4022 5.52678 16.4645 6.46447C15.5269 7.40215 15.0001 8.67392 15.0001 10V13.3333H25.0001V10C25.0001 8.67392 24.4733
                            7.40215 23.5356 6.46447C22.5979 5.52678 21.3262 5 20.0001 5Z" fill="#401B37"/>
                        </svg>
                        <input type="password" name="nouveauMotDePasse2" placeholder="Vérification du nouveau mot de passe" required v-model="nouveauMotDePasse2">
                        <span class="tooltip">
                            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 0C6.71484 0 0 6.71484 0 15C0 23.2852 6.71484 30 15 30C23.2852 30 30 23.2852 30 15C30 6.71484 23.2852 0 15 0ZM15 23.4375C13.9453 23.4375 13.125
                                22.6172 13.125 21.5625C13.125 20.5078 13.8926 19.6875 15 19.6875C16.002 19.6875 16.875 20.5078 16.875 21.5625C16.875 22.6172 16.002 23.4375 15 23.4375ZM19.0488
                                15.1172L16.4062 16.7578V16.875C16.4062 17.6367 15.7617 18.2812 15 18.2812C14.2383 18.2812 13.5938 17.6367 13.5938 16.875V15.9375C13.5938 15.4688 13.8281 15
                                14.2969 14.707L17.6367 12.7148C18.0469 12.4805 18.2812 12.0703 18.2812 11.6016C18.2812 10.8984 17.6426 10.3125 16.9395 10.3125H13.9453C13.1895 10.3125 12.6562
                                10.8984 12.6562 11.6016C12.6562 12.3633 12.0117 13.0078 11.25 13.0078C10.4883 13.0078 9.84375 12.3633 9.84375 11.6016C9.84375 9.31641 11.6602 7.5 13.8926
                                7.5H16.8867C19.2773 7.5 21.0938 9.31641 21.0938 11.6016C21.0938 13.0078 20.332 14.3555 19.0488 15.1172Z" fill="black"/>
                            </svg>
                            <span class="tooltip-text">Les mots de passe ne sont pas identiques</span>
                        </span>
                    </div>
                    <button type="submit" class="update-infos-submit-button">Mettre à jour le mot de passe</button>
                </form>
            </div>
        </main>
        <script src="https://unpkg.com/vue@3"></script>
        <script src="js/script-update-infos.js"></script>
    </body>
</html>